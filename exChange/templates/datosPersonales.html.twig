{% extends 'base.html.twig' %}

{% block title %}Datos personales{% endblock %}

{% block body %}
{# <form method="post" action="/successLogin/actualizarDatosPersonales" enctype="multipart/form-data">

    <h3 class="h3 mb-3 font-weight-normal">Modificar datos personales</h3>
    <label for="inputNombreUsuario" class="sr-only">Nuevo nombre de Usuario</label>
    <input type="text" name="nombreUsuario" id="inputNombreUsuario" class="form-control" placeholder="Nombre Usuario" autofocus>
    <label for="inputPassword" class="sr-only">Nueva Password</label>
    <input type="password" name="password" id="inputPassword" class="form-control" placeholder="Password">
    <input type="hidden" name="username" id="username" class="form-control" placeholder="userName" value="{{app.user.username}}">
    <label for="inputImagen" class="sr-only">Nueva Imagen de Usuario</label>
    <input type="file" name="imagenes" id="inputImagen">
    <select name="ciudad">
        {% if ciudades %}
            {% for ciudad in ciudades %}
                <option value="{{ ciudad.nombreC }}">{{ ciudad.nombreC }}</option>
            {% endfor %}
        {% endif %}
    </select>
    <button class="btn btn-lg btn-primary" type="submit" formaction="/successLogin/actualizarDatosPersonales">
        Actualizar
    </button>
    <button class="btn btn-lg btn-primary" type="submit" formaction="../">
        Dar de baja
    </button>
    <button class="btn btn-lg btn-primary" formaction="../successLogin"> #}
<header>
  <nav>
    <div class="nav-wrapper blue">
      <a href="/" class="brand-logo" id="logo">ExChange</a>
      <a href="#" data-target="mobile-demo" class="sidenav-trigger"><i class="material-icons">menu</i></a>
      <ul class="right hide-on-med-and-down">
        {# <li><a class="waves-effect waves-light modal-trigger"><i class="material-icons left">message</i>Mensajes</a></li> #}
        {# <li><a class="waves-effect waves-light blue-text text-darken-4" href="/contacto"><i class="material-icons left">contact_mail</i>Contacto</a></li> #}
        <li><a class="waves-effect waves-light blue-text text-darken-4" href="/logout"><i class="material-icons left">input</i>Cerrar sesión</a></li>
        <li><a class="waves-effect waves-light modal-trigger blue-text text-darken-4" href="#searchModal"><i class="material-icons left">search</i>Buscar</a></li>
      </ul>
    </div>
  </nav>
</header>
<ul class="sidenav" id="mobile-demo">
  {# <li><a class="waves-effect waves-light modal-trigger"><i class="material-icons left">message</i>Mensajes</a></li> #}
  {# <li><a class="waves-effect waves-light blue-text text-darken-4" href="/contacto"><i class="material-icons left">contact_mail</i>Contacto</a></li> #}
  <li><a class="waves-effect waves-light" href="/logout"><i class="material-icons left">input</i>Cerrar sesión</a></li>
  <li><a class="waves-effect waves-light modal-trigger" href="#searchModal"><i class="material-icons left">search</i>Buscar</a></li>
</ul>
<div id="searchModal" class="modal">
  <form action="./search" method="GET" name="searchForm">
    <div class="modal-content">
      <nav>
        <div class="nav-wrapper blue">
          <div class="input-field">
            <input id="q" type="search" name="q">
            <label class="label-icon" for="search"><i class="material-icons">search</i></label>
            <i class="material-icons" id="clearInput">close</i>
          </div>
        </div>
      </nav>
      <br>
      <div class="input-field col s12">
        <h5 class="blue-text">Filtrar Categoría</h5>
        <select class="blue" name="cat">
          <option value="none"selected>Escoge una categoría</option>
          <option value="1">Option 1</option>
          <option value="2">Option 2</option>
          <option value="3">Option 3</option>
          <option value="1">Option 1</option>
          <option value="2">Option 2</option>
          <option value="3">Option 3</option>
          <option value="1">Option 1</option>
          <option value="2">Option 2</option>
          <option value="3">Option 3</option>
        </select>
      </div>
      <div class="input-field col s12">
        <h5 class="blue-text">Filtrar Ciudad</h5>
        <select class="blue" name="city">
          <option value="none"selected>Escoge una ciudad</option>
          <option value="1">Option 1</option>
          <option value="2">Option 2</option>
          <option value="3">Option 3</option>
          <option value="1">Option 1</option>
          <option value="2">Option 2</option>
          <option value="3">Option 3</option>
          <option value="1">Option 1</option>
          <option value="2">Option 2</option>
          <option value="3">Option 3</option>
        </select>
      </div>
    </div>
    <div class="modal-footer">
      <button class="modal-close waves-effect blue btn-flat white-text" type="submit" id="searchButton">Buscar</button>
    </div>
  </form>
</div>
<main>
  <h1 class="page-title smaller blue-text">Modificar datos personales</h1>
  <form method="post" action="/successLogin/actualizarDatosPersonales" enctype="multipart/form-data" id="change-data-form">
    <div class="row">
      <div class="input-field col s12 m6 card-special">
        <input type="text" name="nombreUsuario" id="inputNombreUsuario" class="form-control">
        <label for="inputNombreUsuario" class="sr-only">Nuevo nombre de Usuario</label>
      </div>
      <div class="input-field col s12 m6 card-special">
        <label for="inputPassword" class="sr-only">Nueva Password</label>
        <input type="password" name="password" id="inputPassword" class="form-control">
      </div>
    </div>
    <div class="row">
      <div class="file-field input-field col s12 m6 card-special">
        <div class="btn waves-effect waves-light blue file-type">
          <span>Nueva imagen de perfil</span>
          <input type="file" name="imagenes" id="inputImagen">
        </div>
        <div class="file-path-wrapper file-type">
          <input class="file-path block" type="text" disabled>
          
        </div>
        
        {# <label for="inputImagen" class="sr-only">Nueva Imagen de Usuario</label> #}
      </div>
      <div class="input-field col s12 m6 card-special">
        <select name="ciudad">
            {% if ciudades %}
                {% for ciudad in ciudades %}
                    <option value="{{ ciudad.nombreC }}">{{ ciudad.nombreC }}</option>
                {% endfor %}
            {% endif %}
        </select>
        <label for="ciudad">Cambiar ciudad</label>
      </div>
    </div>
    <input type="hidden" name="username" id="username" class="form-control" value="{{app.user.username}}">
    <div class="change-data-btns">
      <button class="btn waves-effect waves-light blue" type="submit" formaction="/successLogin/actualizarDatosPersonales">
          Actualizar Datos
      </button>
      <a class="btn waves-effect waves-light red modal-trigger" href="#modalConfirm">
          Darse de baja
      </a>
    </div>
    <div id="modalConfirm" class="modal">
      <div class="modal-content">
        <h4>¿Estás seguro/a?</h4>
        <p>No podrás volver a utilizar ninguno de los servicios de ExChange con esta cuenta si la borras.</p>
      </div>
      <div class="modal-footer">
        <a href="#" class="modal-close waves-effect waves-teal btn-flat">Cancelar</a>
        <button class="btn waves-effect waves-light red modal-close" type="submit" formaction="../">Sí</button>
      </div>
    </div>
    {# <button class="btn btn-lg btn-primary" formaction="../successLogin">
        Volver
    </button> #}
  </form>
</main>
<footer>
  <section class="copyright white-text">
    <i class="material-icons">copyright</i><p>ExChange 2019</p>
  </section>
  <section class="legal blue-text text-darken-4">
    <i class="material-icons">info</i><a href="/legal">Aviso legal</a>
  </section>
</footer>

{% endblock %}